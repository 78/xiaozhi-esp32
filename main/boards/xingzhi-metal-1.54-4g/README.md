# 无名科技星智 1.54 METAL (4g)

## 简介
无名科技星智 1.54 METAL (4g) 是星智 1.54 开模版的升级款，配备 1.54 寸 LCD 屏幕与 CST816 触摸芯片。它用触摸交互替代物理按键，并将外壳升级为铝合金材质，同步优化了交互体验与产品质感、手感。

## 4G版
由于铝合金4G版本使用的是定制4G模组。esp-ml307组件暂不支持此模组，所以对4G模组的底层有相应修改。若之后esp-ml307有修改涉及到此版本，将重新修改相关代码并合并。

>### 按键操作
>- **开机**: 关机状态，长按电源键3秒后自动开机（旧版硬件长按电源键1s后自动开机）
>- **关机**: 开机状态，长按电源键5秒后自动关机（旧版硬件插入usb时不会自动关机）   
>- **唤醒/打断**: 正常通话环境下，单击中间触摸按键
>- **切换4G/Wifi**: 长按4s中间触摸按键（需安装4G模块）
>- **重新配网**: 开机后，1秒钟内单击中间触摸按键，会自动重启并进入配网界面
>- **增加音量**: 开机状态下，单击右侧触摸按键，音量增加。长按右侧触摸按键2s，音量递增。
>- **减小音量**: 开机状态下，单击左侧触摸按键，音量减小。长按左侧触摸按键2s，音量递减。

>### 休眠操作
>- **浅睡眠**: 开机后，维持待命状态60s后，进入浅睡眠（屏幕亮度调整到1%, 4g模组进入休眠状态）
>- **深睡眠**: 开机后，维持待命状态300s后，进入深睡眠（自动关机）
>- **唤醒**: 浅睡眠状态下，单击中间触摸按键，唤醒设备（屏幕亮度回调并唤醒4g模组）

# 编译配置命令

**克隆工程**

```bash
git clone https://github.com/78/xiaozhi-esp32.git
```

**进入工程**

```bash
cd xiaozhi-esp32
```

**配置编译目标为 ESP32S3**

```bash
idf.py set-target esp32s3
```

**打开 menuconfig**

```bash
idf.py menuconfig
```

**选择板子**

```bash
- `Xiaozhi Assistant` → `Board Type` → 选择 `无名科技星智1.54 METAL(4g)`
```

**编译**

```ba
idf.py build
```

**下载并打开串口终端**

```bash
idf.py build flash monitor
```

