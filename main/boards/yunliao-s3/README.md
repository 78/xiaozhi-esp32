# 小智云聊S3

## 简介
小智云聊S3是小智AI的魔改项目，是首个2.8寸护眼大屏+大字体+2000mah大电池的量产成品，做了大量创新和优化。

## 合并版
合并版代码在小智AI主项目中维护，跟随主项目的一起版本更新，便于用户自行扩展和第三方固件扩展。支持语音唤醒、语音打断、OTA、4G自由切换等功能。

>### 按键操作
>- **开机**: 关机状态，长按1秒后释放按键，自动开机
>- **关机**: 开机状态，长按1秒后释放按键，标题栏会显示'请稍候'，再等2秒自动关机  
>- **唤醒/打断**: 正常通话环境下，单击按键
>- **切换4G/Wifi**: 启动过程或者配网界面，1秒钟内双击按键（需安装4G模块）
>- **重新配网**: 开机状态，1秒钟内三击按键，会自动重启并进入配网界面

## 魔改版
魔改版由于底层改动太大，代码单独维护，定期合并主项目代码。

>### 为什么是魔改
>- 首个实现微信二维码配网。
>- 首个支持单手机配网。
>- 首个支持扫二维码访问控制台。
>- 首发支持繁体、日文、英文版界面
>- 首个全语音操控模式
>- 独家提供一键刷机脚本等多种刷机方式

## 版本区别
>| 特性 | 合并版 | 魔改版 |
>| --- | --- | --- |
>| 语音打断 | ✓ | ✓ |
>| 4G功能 | ✓ | ✓ |
>| 自动更新固件 | ✓ | X |
>| 第三方固件支持 | ✓ | X |
>| 天气待机界面 | X | ✓  |
>| 闹钟提醒 | X | ✓  |
>| 网络音乐播放 | X | ✓  |
>| 微信扫码配网 | X | ✓  |
>| 单手机配网 | X | ✓  |
>| 扫码访问控制台 | X | ✓  |
>| 繁日英文界面 | X | ✓  |
>| 多语言支持 | X | ✓  |
>| 外接蓝牙音箱 | X | ✓  |


# 编译配置命令

**克隆工程**

```bash
git clone https://github.com/78/xiaozhi-esp32.git
```

**进入工程**

```bash
cd xiaozhi-esp32
```

**配置编译目标为 ESP32S3**

```bash
idf.py set-target esp32s3
```

**打开 menuconfig**

```bash
idf.py menuconfig
```

**选择板子**

```bash
- `Xiaozhi Assistant` → `Board Type` → 选择 `小智云聊-S3` → 选择 `Enable Device-Side AEC`
```

**编译**

```ba
idf.py build
```

**下载并打开串口终端**

```bash
idf.py build flash monitor
```

